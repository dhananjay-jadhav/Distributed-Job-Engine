supergraph:
  # The socket address and port to listen on
  listen: 0.0.0.0:4000
  # Introspection is enabled by default for local development
  introspection: true

# CORS configuration
cors:
  origins:
    - https://studio.apollographql.com
    - http://localhost:4000
  allow_credentials: true

# Headers propagation
# NOTE: Development configuration - propagates all headers for ease of testing
# For production, use router.production.yaml which explicitly lists allowed headers
headers:
  # Propagate all headers from the client to subgraphs
  all:
    request:
      - propagate:
          matching: ".*"

# Telemetry and logging
telemetry:
  instrumentation:
    spans:
      mode: spec_compliant
  exporters:
    logging:
      stdout:
        enabled: true
        format: json

# Health check endpoint for the router itself
health_check:
  enabled: true
  listen: 0.0.0.0:8088
  path: /health

# Homepage with GraphQL Playground
homepage:
  enabled: true
